<!DOCTYPE html>
    <html lang="no">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Opprett ny leir | Leirskoleportalen</title>
        <style>
            body {
              margin: 0;
              font-family: "Helvetica Neue", sans-serif;
              background-color: #e5f9fb;
              color: #000;
            }
            header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              padding: 1rem;
            }
            .logo {
              font-weight: bold;
              padding-left: 0.5rem;
            }
            .actions {
              display: flex;
              gap: 1.2rem;
              align-items: center;
            }
            .menu-button {
              background: none;
              border: none;
              cursor: pointer;
            }
            .mobile-menu {
              transform: translateX(-100%);
              transition: transform 0.3s ease-in-out;
              position: fixed;
              top: 0;
              left: 0;
              height: 100vh;
              width: 220px;
              background: white;
              z-index: 100;
              padding: 2rem 1rem;
              display: flex;
              flex-direction: column;
            }
            .mobile-menu.open {
              transform: translateX(0);
            }
            main {
              max-width: 600px;
              margin: 2rem auto;
              background: #fff;
              padding: 2rem;
              border-radius: 0.5rem;
              box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            }
            h1 {
              text-align: center;
              color: #118090;
              margin-bottom: 2rem;
            }
            form {
              display: flex;
              flex-direction: column;
              gap: 1rem;
            }
            input, select, textarea {
              padding: 0.6rem;
              border: 1px solid #ccc;
              border-radius: 0.4rem;
              font-size: 1rem;
              width: 100%;
              box-sizing: border-box;
            }
            button[type="submit"] {
              padding: 0.75rem;
              background-color: #118090;
              color: white;
              border: none;
              border-radius: 0.5rem;
              font-size: 1rem;
              cursor: pointer;
            }
            button[type="submit"]:hover {
              background-color: #0d6c77;
            }

            /* Modal styling */
            .modal {
              display: none;
              position: fixed;
              z-index: 999;
              left: 0; top: 0;
              width: 100%; height: 100%;
              overflow: auto;
              background-color: rgba(0,0,0,0.5);
            }
            .modal-content {
              background-color: #fff;
              margin: 10% auto;
              padding: 20px;
              width: 80%;
              max-width: 400px;
              border-radius: 10px;
            }
            .close {
              color: #aaa;
              float: right;
              font-size: 24px;
              font-weight: bold;
              cursor: pointer;
            }
        </style>
    </head>
    <body>

    <header>
        <div style="display: flex; align-items: center; gap: 1rem;">
            <button class="menu-button" onclick="toggleMenu()">
                â˜°
            </button>
            <a href="/" class="logo">LEIRSKOLE<br />PORTALEN</a>
        </div>
    </header>
    <div style="display: flex; align-items: center; gap: 1rem;">
        <button class="menu-button" onclick="toggleMenu()" aria-label="Meny" aria-expanded="false">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="24" height="24">
                <path stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
            </svg>
        </button>

        <a th:href="@{/}" class="logo" style="text-decoration: none; color: inherit;">
            LEIRSKOLE<br />PORTALEN
        </a>
    </div>

    <div class="actions">
        <a href="/sok" aria-label="SÃ¸k">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="24" height="24">
                <circle cx="11" cy="11" r="8" stroke-width="2"/>
                <line x1="21" y1="21" x2="16.65" y2="16.65" stroke-width="2"/>
            </svg>
        </a>
        <a href="/login" aria-label="Logg inn">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="24" height="24">
                <path stroke-width="2" d="M15 3h4a2 2 0 012 2v14a2 2 0 01-2 2h-4M10 17l5-5m0 0l-5-5m5 5H3"/>
            </svg>
        </a>
    </div>

    <nav class="mobile-menu" id="mobileMenu" role="navigation">
        <a href="/leir/liste">Leirer</a>
        <a href="/deltaker/liste/1">Deltakere</a>
        <a href="/innkvartering">Innkvartering</a>
        <a href="/risiko">Risikovurdering</a>
        <a href="/skole/kunder">Skoler</a>
    </nav>
</header>

<main>
    <h1 th:text="${skole.id == null} ? 'Registrer ny skole' : 'Rediger skole'">Skoleskjema</h1>

    <form th:action="@{/skole/lagre}" th:object="${skole}" method="post" class="needs-validation" novalidate>
        <input type="hidden" th:field="*{id}" />

        <div class="mb-3">
            <label for="navn" class="form-label">Skolens navn *</label>
            <input type="text" th:field="*{navn}" id="navn" class="form-control" required>
            <div class="invalid-feedback">Navn er pÃ¥krevd.</div>
        </div>

        <div class="mb-3">
            <label for="kontaktperson" class="form-label">Kontaktperson</label>
            <input type="text" th:field="*{kontaktperson}" id="kontaktperson" class="form-control">
        </div>

        <div class="mb-3">
            <label for="telefon" class="form-label">Telefon</label>
            <input type="tel" th:field="*{telefon}" id="telefon" class="form-control">
        </div>

        <div class="mb-3">
            <label for="epost" class="form-label">E-post</label>
            <input type="email" th:field="*{epost}" id="epost" class="form-control">
        </div>

        <button type="submit" class="btn btn-save">ðŸ’¾ Lagre skole</button>
        <a class="btn btn-secondary btn-cancel" th:href="@{/skole/kunder}">Avbryt</a>
    </form>
</main>

<script>
    function toggleMenu() {
        const menu = document.getElementById("mobileMenu");
        const button = document.querySelector(".menu-button");
        const isOpen = menu.classList.toggle("open");
        button.setAttribute("aria-expanded", isOpen);
    }

    document.addEventListener('click', function (e) {
        const menu = document.getElementById("mobileMenu");
        const button = document.querySelector(".menu-button");
        if (!menu.contains(e.target) && !button.contains(e.target)) {
            menu.classList.remove("open");
            button.setAttribute("aria-expanded", "false");
        }
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
